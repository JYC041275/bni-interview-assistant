# 全前端應用部署說明

## 📦 兩種部署模式

### 模式一：客戶自行輸入 API Key（預設）

**適用場景**：多個客戶使用，每個客戶有自己的 API Key

**配置方式**：
1. 打開 `config.ts` 文件
2. 保持 `API_KEY: ''` 為空字串
3. 保持 `SHOW_API_KEY_INPUT: true`

**客戶使用**：
- 客戶需要申請自己的 Gemini API Key
- 首次使用時在頁面上輸入 API Key
- API Key 會自動保存到瀏覽器

---

### 模式二：內置 API Key（全自動）

**適用場景**：單一客戶使用，您願意承擔 API 成本

**配置方式**：
1. 打開 `config.ts` 文件
2. 填入您的 Gemini API Key：
   ```typescript
   API_KEY: 'AIzaSy您的APIKey...',
   ```
3. 設置 `SHOW_API_KEY_INPUT: false`（隱藏輸入框）

**客戶使用**：
- 客戶直接打開應用即可使用
- 無需輸入任何 API Key
- 完全自動化

⚠️ **安全警告**：
- API Key 會暴露在前端代碼中
- 任何人都可以在瀏覽器中查看
- 建議設置 Google Cloud Console 的 API 使用量限制
- 僅適合內部使用或信任的客戶

---

## 🚀 構建步驟

### 1. 配置 API Key（可選）

編輯 `config.ts`：
```typescript
export const CONFIG = {
  API_KEY: '您的APIKey', // 留空則需要客戶輸入
  SHOW_API_KEY_INPUT: true, // false 則隱藏輸入框
};
```

### 2. 構建應用

```bash
npm run build
```

### 3. 交付 dist 資料夾

將 `dist` 資料夾中的所有文件交給客戶。

---

## 📋 交付方式

### 方式 A：直接打開 HTML（有限制）

- 客戶直接雙擊 `index.html`
- ⚠️ 某些功能可能受限（CORS 限制）

### 方式 B：使用本地服務器（推薦）

**Windows:**
```bash
cd dist
npx http-server -p 8080
```

**Mac/Linux:**
```bash
cd dist
python3 -m http.server 8080
```

然後訪問：http://localhost:8080

### 方式 C：部署到靜態網站託管

可以部署到：
- GitHub Pages
- Netlify
- Vercel
- 任何靜態網站託管服務

---

## 🔒 安全建議

### 如果使用內置 API Key：

1. **設置使用量限制**
   - 前往 Google Cloud Console
   - 設置 API 的每日/每月使用量上限
   - 設置預算警報

2. **監控使用情況**
   - 定期檢查 API 使用量
   - 設置異常使用警報

3. **考慮後端代理**
   - 如果擔心安全，使用後端代理服務器
   - API Key 存儲在服務器端

---

## 💰 成本控制

### 設置 API 限制步驟：

1. 前往：https://console.cloud.google.com/
2. 選擇您的專案
3. 進入「API 和服務」→「配額」
4. 找到 Gemini API
5. 設置每日/每月請求限制
6. 設置預算警報

---

## ✅ 優勢

### 全前端應用的優點：

- ✅ 無需服務器
- ✅ 無需後端維護
- ✅ 客戶可以直接使用
- ✅ 可以部署到任何靜態網站託管
- ✅ 離線也可以打開（但需要網路調用 API）

---

## 📝 注意事項

1. **API Key 安全**：如果內置 API Key，請確保設置使用量限制
2. **網路需求**：應用需要連線到 Google Gemini API
3. **瀏覽器兼容**：建議使用 Chrome、Edge、Firefox 最新版本
4. **文件大小**：構建後的應用約 840KB（壓縮後 229KB）

